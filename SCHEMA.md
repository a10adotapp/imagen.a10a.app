# Schema
> Generated by [`prisma-markdown`](https://github.com/samchon/prisma-markdown)

- [マイスタンプ](#マイスタンプ)
- [外部API](#外部api)
- [認証](#認証)

## マイスタンプ
```mermaid
erDiagram
"line_stamp_generate_queue_messages" {
  String id PK
  String user_id FK
  String line_stamp_generate_queue_id FK
  String message
  Int order_priority
  DateTime created_at
  DateTime updated_at
  DateTime deleted_at "nullable"
}
"line_stamp_generate_queues" {
  String id PK
  String user_id FK
  String image_uri
  String image_type
  Json image_exif "nullable"
  DateTime consumed_at "nullable"
  DateTime created_at
  DateTime updated_at
  DateTime deleted_at "nullable"
}
"line_stamp_images" {
  String id PK
  String user_id FK
  String line_stamp_generate_queue_id FK
  String line_stamp_generate_queue_message_id FK
  String image_uri
  DateTime created_at
  DateTime updated_at
  DateTime deleted_at "nullable"
}
"line_stamp_ticket_consumptions" {
  String id PK
  String line_stamp_generate_queue_id FK
  String line_stamp_ticket_id FK
  String user_id FK
  DateTime created_at
  DateTime updated_at
  DateTime deleted_at "nullable"
}
"line_stamp_tickets" {
  String id PK
  String user_id FK
  DateTime created_at
  DateTime updated_at
  DateTime deleted_at "nullable"
}
"line_stamp_generate_queue_messages" }o--|| "line_stamp_generate_queues" : queue
"line_stamp_images" }o--|| "line_stamp_generate_queues" : generateQueue
"line_stamp_images" }o--|| "line_stamp_generate_queue_messages" : generateQueueMessage
"line_stamp_ticket_consumptions" }o--|| "line_stamp_generate_queues" : generateQueue
"line_stamp_ticket_consumptions" }o--|| "line_stamp_tickets" : ticket
```

### `line_stamp_generate_queue_messages`
マイスタンプ生成キュー/メッセージ

**Properties**
  - `id`: 
  - `user_id`: 
  - `line_stamp_generate_queue_id`: 
  - `message`: メッセージ
  - `order_priority`: 並び順
  - `created_at`: 
  - `updated_at`: 
  - `deleted_at`: 

### `line_stamp_generate_queues`
マイスタンプ生成キュー

**Properties**
  - `id`: 
  - `user_id`: 
  - `image_uri`: ベース画像URI
  - `image_type`: ベース画像種別
  - `image_exif`: Exif情報
  - `consumed_at`
    > 処理日時
    > NULL: 未処理
  - `created_at`: 
  - `updated_at`: 
  - `deleted_at`: 

### `line_stamp_images`
マイスタンプ画像

**Properties**
  - `id`: 
  - `user_id`: 
  - `line_stamp_generate_queue_id`: 
  - `line_stamp_generate_queue_message_id`: 
  - `image_uri`: 生成画像URI
  - `created_at`: 
  - `updated_at`: 
  - `deleted_at`: 

### `line_stamp_ticket_consumptions`
マイスタンプチケット使用履歴

**Properties**
  - `id`: 
  - `line_stamp_generate_queue_id`: 
  - `line_stamp_ticket_id`: 
  - `user_id`: 
  - `created_at`: 
  - `updated_at`: 
  - `deleted_at`: 

### `line_stamp_tickets`
マイスタンプチケット

**Properties**
  - `id`: 
  - `user_id`: 
  - `created_at`: 
  - `updated_at`: 
  - `deleted_at`: 


## 外部API
```mermaid
erDiagram
"openai_usages" {
  String id PK
  Json usage
  Json metadata
  DateTime created_at
  DateTime updated_at
  DateTime deleted_at "nullable"
}
```

### `openai_usages`
OpenAI使用状況

**Properties**
  - `id`: 
  - `usage`: 
  - `metadata`: 
  - `created_at`: 
  - `updated_at`: 
  - `deleted_at`: 


## 認証
```mermaid
erDiagram
"users" {
  String id PK
  String line_user_id
  String stripe_customer_id "nullable"
  DateTime created_at
  DateTime updated_at
  DateTime deleted_at "nullable"
}
```

### `users`
ユーザー

**Properties**
  - `id`: 
  - `line_user_id`: LINE User ID
  - `stripe_customer_id`: Stripe Customer ID
  - `created_at`: 
  - `updated_at`: 
  - `deleted_at`: 